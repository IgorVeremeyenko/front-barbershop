<p-progressBar *ngIf="isLoading" mode="indeterminate" [style]="{'height': '6px'}"></p-progressBar>
<!-- <p-toast></p-toast> -->
<p-blockUI [blocked]="blockedDocument"></p-blockUI>
<div *ngIf="dataLoaded" class="app">
    <div class='app-sidebar'>
        <div class='app-sidebar-section'>
            <h2>Инструкции</h2>
            <ul>
                <li>Выберите дату и Вам будет предложено создать новую запись</li>
                <li>Нажмите на запись, чтобы посмотреть детально</li>
            </ul>
        </div>
    
        <div class='app-sidebar-section'>
            <label>
                <input type='checkbox' [checked]='calendarOptions.weekends' (change)='handleWeekendsToggle()' />
                Показывать выходные
            </label>
        </div>
        <div *ngIf="dataLoaded" class='app-sidebar-section'>
            <h2>Все записи ({{currentEvents.length}})</h2>
            <ul>
                <li *ngFor='let event of currentEvents'>
                    <b>{{event.startStr | date: 'MMMM d, h:mm a'}}</b>
                    <i>{{event.title}}</i>
                </li>
            </ul>
        </div>
    </div>
    
    <div class='app-main'>
        <full-calendar #calendar *ngIf='calendarVisible' [options]='calendarOptions'>
            <ng-template #eventContent let-arg>
                <b>{{ arg.timeText }}</b>
                <i>{{ arg.event.title }}</i>
            </ng-template>
        </full-calendar>
    </div>
</div>

<app-add-appointment></app-add-appointment>
<app-view-appointment *ngIf="isShown"></app-view-appointment>
